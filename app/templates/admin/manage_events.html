{% extends 'base.html' %}
{% block title %}Manage Events{% endblock %}
{% block content %}
<div class="container" style="max-width: 1100px; margin: 0 auto; padding: 40px 0;">
    <h1 style="font-size: 2.2rem; font-weight: 700; margin-bottom: 32px; background: linear-gradient(135deg, #8b5cf6, #06b6d4); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Manage Events</h1>
    <div style="margin-bottom: 32px; text-align: right;">
        <a href="{{ url_for('events.create_event') }}" class="btn" style="background: linear-gradient(135deg, #8b5cf6, #06b6d4); color: white; padding: 12px 28px; border-radius: 10px; font-weight: 600; text-decoration: none;">+ Create Event</a>
    </div>
    {% if events.items|length == 0 %}
        <div style="background: #f8fafc; border-radius: 16px; padding: 40px; text-align: center; border: 1px dashed #e2e8f0; color: #64748b;">
            <div style="font-size: 2.5rem; margin-bottom: 12px;">ğŸ“…</div>
            <div style="font-size: 1.3rem; font-weight: 600; margin-bottom: 8px;">No events found</div>
            <div style="font-size: 1rem; color: #94a3b8;">Start by creating a new event.</div>
        </div>
    {% else %}
    <div style="display: grid; gap: 28px;">
        {% for event in events.items %}
        <div style="background: white; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid #e2e8f0; padding: 28px 32px; display: flex; align-items: center; justify-content: space-between; gap: 24px;">
            <div style="flex: 1; min-width: 0;">
                <div style="font-size: 1.2rem; font-weight: 700; color: #1a1a1a; margin-bottom: 4px;">{{ event.title }}</div>
                <div style="color: #64748b; font-size: 1rem; margin-bottom: 2px;">{{ event.venue }}</div>
                <div style="color: #94a3b8; font-size: 0.95rem;">{{ event.event_date.strftime('%b %d, %Y at %I:%M %p') }}</div>
                <div style="margin-top: 8px;">
                    <span style="background: #e0e7ff; color: #6366f1; padding: 4px 12px; border-radius: 8px; font-size: 0.9rem; font-weight: 500;">{{ 'Active' if event.is_active else 'Inactive' }}</span>
                </div>
            </div>
            <div style="display: flex; gap: 12px;">
                <a href="{{ url_for('events.event_detail', event_id=event.id) }}" class="btn" style="background: #f3e8ff; color: #8b5cf6; padding: 10px 18px; border-radius: 8px; font-weight: 600; text-decoration: none;">View</a>
                <a href="{{ url_for('events.edit_event', event_id=event.id) }}" class="btn" style="background: #fef9c3; color: #f59e0b; padding: 10px 18px; border-radius: 8px; font-weight: 600; text-decoration: none;">Edit</a>
                <form method="post" action="{{ url_for('events.delete_event', event_id=event.id) }}" style="display:inline;">
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this event?');" style="background: #fee2e2; color: #ef4444; padding: 10px 18px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">Delete</button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
    <div style="margin-top: 32px; text-align: center;">
        {% if events.has_prev %}
            <a href="{{ url_for('admin.manage_events', page=events.prev_num) }}" style="margin-right: 12px; color: #8b5cf6; text-decoration: none; font-weight: 500;">&larr; Prev</a>
        {% endif %}
        <span style="color: #64748b; font-size: 1rem;">Page {{ events.page }} of {{ events.pages }}</span>
        {% if events.has_next %}
            <a href="{{ url_for('admin.manage_events', page=events.next_num) }}" style="margin-left: 12px; color: #8b5cf6; text-decoration: none; font-weight: 500;">Next &rarr;</a>
        {% endif %}
    </div>
    {% endif %}
</div>
{% endblock %} 